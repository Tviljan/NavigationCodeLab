[gd_scene load_steps=12 format=2]

[ext_resource path="res://Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Main.gd" type="Script" id=2]
[ext_resource path="res://ui_theme.tres" type="Theme" id=3]
[ext_resource path="res://ScoreLabel.gd" type="Script" id=4]
[ext_resource path="res://default_env.tres" type="Environment" id=5]

[sub_resource type="NavigationMesh" id=6]
vertices = PoolVector3Array( -22.25, 0.43602, -29.5, -29.5, 0.43602, -29.5, -29.5, 0.43602, -22.25, -29.5, 0.43602, 22, -29.5, 0.43602, 29.5, -22.25, 0.43602, 29.5, 29.5, 0.43602, -22.25, 29.5, 0.43602, -29.5, 22, 0.43602, -29.5, 22, 0.43602, 29.5, 29.5, 0.43602, 29.5, 29.5, 0.43602, 22, -29.5, 0.43602, 14.75, -29.5, 0.43602, 22, -22.25, 0.43602, 29.5, -14.75, 0.43602, 29.5, 29.5, 0.43602, -22.25, 22, 0.43602, -29.5, 14.75, 0.43602, -29.5, 29.5, 0.43602, -14.75, -14.75, 0.43602, -29.5, -22.25, 0.43602, -29.5, -29.5, 0.43602, -22.25, -29.5, 0.43602, -14.75, 14.75, 0.43602, 29.5, 22, 0.43602, 29.5, 29.5, 0.43602, 22, 7.25, 0.43602, 29.5, 29.5, 0.43602, 14.75, 29.5, 0.43602, 7.25, 0, 0.43602, 29.5, 14.75, 0.43602, 29.5, 29.5, 0.43602, 22, 29.5, 0.43602, 14.75, 7.25, 0.43602, 29.5, 0, 0.43602, -29.5, -7.5, 0.43602, -29.5, -29.5, 0.43602, -7.5, -29.5, 0.43602, 0, 29.5, 0.43602, 0, 0, 0.43602, -29.5, -29.5, 0.43602, 0, -7.5, 0.43602, 29.5, 0, 0.43602, 29.5, 29.5, 0.43602, 7.25, -29.5, 0.43602, 14.75, -14.75, 0.43602, 29.5, -7.5, 0.43602, 29.5, -29.5, 0.43602, 7.25, 29.5, 0.43602, -7.5, 29.5, 0.43602, -14.75, 14.75, 0.43602, -29.5, 7.25, 0.43602, -29.5, -7.5, 0.43602, -29.5, -14.75, 0.43602, -29.5, -29.5, 0.43602, -14.75, -29.5, 0.43602, -7.5, -29.5, 0.43602, 0, -29.5, 0.43602, 7.25, -7.5, 0.43602, 29.5, 29.5, 0.43602, -7.5, 7.25, 0.43602, -29.5, 0, 0.43602, -29.5, 29.5, 0.43602, 0 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 5, 4, 3 ), PoolIntArray( 8, 7, 6 ), PoolIntArray( 11, 10, 9 ), PoolIntArray( 13, 12, 14 ), PoolIntArray( 14, 12, 15 ), PoolIntArray( 17, 16, 18 ), PoolIntArray( 18, 16, 19 ), PoolIntArray( 21, 20, 22 ), PoolIntArray( 22, 20, 23 ), PoolIntArray( 26, 25, 24 ), PoolIntArray( 28, 27, 29 ), PoolIntArray( 29, 27, 30 ), PoolIntArray( 32, 31, 33 ), PoolIntArray( 33, 31, 34 ), PoolIntArray( 36, 35, 37 ), PoolIntArray( 37, 35, 38 ), PoolIntArray( 44, 43, 39 ), PoolIntArray( 39, 43, 42 ), PoolIntArray( 39, 42, 41 ), PoolIntArray( 39, 41, 40 ), PoolIntArray( 46, 45, 47 ), PoolIntArray( 47, 45, 48 ), PoolIntArray( 50, 49, 51 ), PoolIntArray( 51, 49, 52 ), PoolIntArray( 54, 53, 55 ), PoolIntArray( 55, 53, 56 ), PoolIntArray( 59, 58, 57 ), PoolIntArray( 61, 60, 62 ), PoolIntArray( 62, 60, 63 ) ]
agent_max_climb = 2.0
edge_max_length = 4.0

[sub_resource type="BoxShape" id=1]
extents = Vector3( 30, 1, 30 )

[sub_resource type="CubeMesh" id=2]
size = Vector3( 60, 2, 60 )

[sub_resource type="CylinderMesh" id=3]

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="Curve3D" id=5]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, -21.8675, 0, -18.1349, 0, 0, 0, 0, 0, 0, 20.2589, 0, -17.7507, 0, 0, 0, 0, 0, 0, 21.2833, 0, 30.906, 0, 0, 0, 0, 0, 0, -22.6358, 0, 31.162, 0, 0, 0, 0, 0, 0, -21.8675, 0, -18.1349 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0 )
}

[node name="Main" type="Node"]
script = ExtResource( 2 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 6 )
travel_cost = 0.0

[node name="Ground" type="StaticBody" parent="NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.06398, 0 )
collision_layer = 4
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="NavigationMeshInstance/Ground"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="NavigationMeshInstance/Ground"]
mesh = SubResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.902863, 0.0962156, -0.419024, 0.429916, -0.194685, 0.881629, 0.00324906, -0.976135, -0.217138, 9.47745, 34.6694, 11.0466 )
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.12151, -0.0639682, 1.52703 )

[node name="CameraPivot" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 0.566607, 0.782726, 0, -0.476065, 0.566018, -0.0777016, -88.0736, 8.16654 )

[node name="Camera" type="Camera" parent="CameraPivot"]
transform = Transform( 1, 0, 0, 0, 1.35125, -0.339182, 0, 2.38419e-07, 1.06738, 0.0320892, 66.9174, 77.2999 )
projection = 1
current = true
fov = 177.188
size = 31.0

[node name="Cylinders" type="Spatial" parent="."]
visible = false

[node name="MeshInstance" type="MeshInstance" parent="Cylinders"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -22.0597, 0, -18.2959 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="MeshInstance2" type="MeshInstance" parent="Cylinders"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 19.9403, 0, -18.2959 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="MeshInstance3" type="MeshInstance" parent="Cylinders"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 20.9403, 0, 30.7041 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="MeshInstance4" type="MeshInstance" parent="Cylinders"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -22.0597, 0, 31.7041 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="SpawnPath" type="Path" parent="."]
curve = SubResource( 5 )

[node name="SpawnLocation" type="PathFollow" parent="SpawnPath"]
transform = Transform( -0.0097037, 0, -0.999953, 0, 1, 0, 0.999953, 0, -0.0097037, -21.8675, 0, -18.1349 )
rotation_mode = 1
cubic_interp = false

[node name="MobTimer" type="Timer" parent="."]
wait_time = 0.7
autostart = true

[node name="UserInterface" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="ScoreLabel" type="Label" parent="UserInterface"]
margin_left = 8.0
margin_top = 8.0
margin_right = 99.0
margin_bottom = 37.0
theme = ExtResource( 3 )
custom_colors/font_color = Color( 0.266667, 0.270588, 0.345098, 1 )
text = "Score: 0"
script = ExtResource( 4 )

[node name="Retry" type="ColorRect" parent="UserInterface"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0.0352941, 0.0235294, 0.0235294, 0.145098 )

[node name="Label" type="Label" parent="UserInterface/Retry"]
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_top = -7.0
margin_bottom = 7.0
text = "Press enter to retry"
align = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 5 )

[connection signal="hit" from="Player" to="." method="_on_Player_hit"]
[connection signal="timeout" from="MobTimer" to="." method="_on_MobTimer_timeout"]
